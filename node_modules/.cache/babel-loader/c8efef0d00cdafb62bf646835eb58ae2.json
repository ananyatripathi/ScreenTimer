{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\react-idle-timeout-master\\\\src\\\\Layout.js\";\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport IdleTimer from 'react-idle-timer';\nimport { DashboardPage } from './dashboard/Dashboard';\nimport { IdleTimeOutModal } from './modal/IdleModal';\nimport PropTypes from 'prop-types';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      timerOn: false,\n      timerStart: 0,\n      timerTime: 0\n    };\n\n    this.startTimer = () => {\n      this.setState({\n        timerOn: true,\n        timerTime: this.state.timerTime,\n        timerStart: Date.now() - this.state.timerTime\n      });\n      this.timer = setInterval(() => {\n        this.setState({\n          timerTime: Date.now() - this.state.timerStart\n        });\n      }, 10);\n    };\n\n    this.stopTimer = () => {\n      this.setState({\n        timerOn: false\n      });\n      clearInterval(this.timer);\n    };\n\n    this.resetTimer = () => {\n      this.setState({\n        timerStart: 0,\n        timerTime: 0\n      });\n    };\n\n    this.state = {\n      timeout: 1000 * 5 * 1,\n      showModal: false,\n      userLoggedIn: false,\n      isTimedOut: false\n    };\n    this.idleTimer = null;\n    this.onAction = this._onAction.bind(this);\n    this.onActive = this._onActive.bind(this);\n    this.onIdle = this._onIdle.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n\n  _onAction(e) {\n    console.log('user did something', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onActive(e) {\n    console.log('user is active', e);\n    this.setState({\n      isTimedOut: false\n    });\n  }\n\n  _onIdle(e) {\n    console.log('user is idle', e);\n    const isTimedOut = this.state.isTimedOut;\n\n    if (isTimedOut) {\n      this.props.history.push('/');\n    } else {\n      this.setState({\n        showModal: true\n      });\n      this.idleTimer.reset();\n      this.setState({\n        isTimedOut: true\n      });\n    }\n  }\n\n  handleClose() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  handleLogout() {\n    this.setState({\n      showModal: false\n    });\n    this.props.history.push('/');\n  }\n\n  render() {\n    const match = this.props.match;\n    const timerTime = this.state.timerTime;\n    let centiseconds = (\"0\" + Math.floor(timerTime / 10) % 100).slice(-2);\n    let seconds = (\"0\" + Math.floor(timerTime / 1000) % 60).slice(-2);\n    let minutes = (\"0\" + Math.floor(timerTime / 60000) % 60).slice(-2);\n    let hours = (\"0\" + Math.floor(timerTime / 3600000)).slice(-2);\n    return React.createElement(React.Fragment, null, React.createElement(IdleTimer, {\n      ref: ref => {\n        this.idleTimer = ref;\n      },\n      element: document,\n      onActive: this.onActive,\n      onIdle: this.onIdle,\n      onAction: this.onAction,\n      debounce: 250,\n      timeout: this.state.timeout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"\".concat(match.path, \"dashboard\"),\n      render: props => React.createElement(DashboardPage, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), \"/>\"), React.createElement(IdleTimeOutModal, {\n      showModal: this.state.showModal,\n      handleClose: this.handleClose,\n      handleLogout: this.handleLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"Stopwatch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"Stopwatch-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Stopwatch\"), React.createElement(\"div\", {\n      className: \"Stopwatch-display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, hours, \" : \", minutes, \" : \", seconds, \" : \", centiseconds), this.state.timerOn === false && this.state.timerTime === 0 && React.createElement(\"button\", {\n      onClick: this.startTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Start\"), this.state.timerOn === true && React.createElement(\"button\", {\n      onClick: this.stopTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Stop\"), this.state.timerOn === false && this.state.timerTime > 0 && React.createElement(\"button\", {\n      onClick: this.startTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Resume\"), this.state.timerOn === false && this.state.timerTime > 0 && React.createElement(\"button\", {\n      onClick: this.resetTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Reset\")));\n  }\n\n}\n\nLayout.propTypes = {\n  match: PropTypes.any.isRequired,\n  history: PropTypes.func.isRequired\n};\nexport default Layout;","map":{"version":3,"sources":["C:\\Users\\hp\\Desktop\\react-idle-timeout-master\\src\\Layout.js"],"names":["React","Switch","Route","IdleTimer","DashboardPage","IdleTimeOutModal","PropTypes","Layout","Component","constructor","props","state","timerOn","timerStart","timerTime","startTimer","setState","Date","now","timer","setInterval","stopTimer","clearInterval","resetTimer","timeout","showModal","userLoggedIn","isTimedOut","idleTimer","onAction","_onAction","bind","onActive","_onActive","onIdle","_onIdle","handleClose","handleLogout","e","console","log","history","push","reset","render","match","centiseconds","Math","floor","slice","seconds","minutes","hours","ref","document","path","propTypes","any","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport IdleTimer from 'react-idle-timer';\nimport { DashboardPage } from './dashboard/Dashboard'\nimport { IdleTimeOutModal } from './modal/IdleModal'\nimport PropTypes from 'prop-types';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\n\nclass Layout extends React.Component {\n  state = {\n    timerOn: false,\n    timerStart: 0,\n    timerTime: 0\n  };\n\n  startTimer = () => {\n    this.setState({\n      timerOn: true,\n      timerTime: this.state.timerTime,\n      timerStart: Date.now() - this.state.timerTime\n    });\n    this.timer = setInterval(() => {\n      this.setState({\n        timerTime: Date.now() - this.state.timerStart\n      });\n    }, 10);\n  };\n\n  stopTimer = () => {\n    this.setState({ timerOn: false });\n    clearInterval(this.timer);\n  };\n\n  resetTimer = () => {\n    this.setState({\n      timerStart: 0,\n      timerTime: 0\n    });\n  };\n\n\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            timeout:1000 * 5 * 1,\n            showModal: false,\n            userLoggedIn: false,\n            isTimedOut: false\n        }\n\n        this.idleTimer = null\n        this.onAction = this._onAction.bind(this)\n        this.onActive = this._onActive.bind(this)\n        this.onIdle = this._onIdle.bind(this)\n        this.handleClose = this.handleClose.bind(this)\n        this.handleLogout = this.handleLogout.bind(this)\n    }\n\n    _onAction(e) {\n      console.log('user did something', e)\n      this.setState({isTimedOut: false})\n    }\n   \n    _onActive(e) {\n      console.log('user is active', e)\n      this.setState({isTimedOut: false})\n    }\n   \n    _onIdle(e) {\n      console.log('user is idle', e)\n      const isTimedOut = this.state.isTimedOut\n      if (isTimedOut) {\n          this.props.history.push('/')\n      } else {\n        this.setState({showModal: true})\n        this.idleTimer.reset();\n        this.setState({isTimedOut: true})\n      }\n      \n    }\n\n    handleClose() {\n      this.setState({showModal: false})\n    }\n\n    handleLogout() {\n      this.setState({showModal: false})\n      this.props.history.push('/')\n    }\n\n    render(){\n      const { match } = this.props\n      const { timerTime } = this.state;\n      let centiseconds = (\"0\" + (Math.floor(timerTime / 10) % 100)).slice(-2);\n      let seconds = (\"0\" + (Math.floor(timerTime / 1000) % 60)).slice(-2);\n      let minutes = (\"0\" + (Math.floor(timerTime / 60000) % 60)).slice(-2);\n      let hours = (\"0\" + Math.floor(timerTime / 3600000)).slice(-2);\n  \n      return(\n        <>\n          <IdleTimer\n            ref={ref => { this.idleTimer = ref }}\n            element={document}\n            onActive={this.onActive}\n            onIdle={this.onIdle}\n            onAction={this.onAction}\n            debounce={250}\n            timeout={this.state.timeout} />\n\n            <div className=\"\">\n                <Switch>\n                    <Route \n                        exact path={`${match.path}dashboard`}\n                        render={(props) => <DashboardPage {...props} /> }/>\n                    />\n                </Switch>\n                \n                <IdleTimeOutModal \n                    showModal={this.state.showModal} \n                    handleClose={this.handleClose}\n                    handleLogout={this.handleLogout}\n                />\n            </div>\n\n            <div className=\"Stopwatch\">\n              <div className=\"Stopwatch-header\">Stopwatch</div>\n              <div className=\"Stopwatch-display\">\n                {hours} : {minutes} : {seconds} : {centiseconds}\n              </div>\n              {this.state.timerOn === false && this.state.timerTime === 0 && (\n                <button onClick={this.startTimer}>Start</button>\n              )}\n              {this.state.timerOn === true && (\n                <button onClick={this.stopTimer}>Stop</button>\n              )}\n              {this.state.timerOn === false && this.state.timerTime > 0 && (\n                <button onClick={this.startTimer}>Resume</button>\n              )}\n              {this.state.timerOn === false && this.state.timerTime > 0 && (\n                <button onClick={this.resetTimer}>Reset</button>\n              )}\n            </div>\n        </>\n      )\n   }\n\n }\n\n Layout.propTypes = {\n     match: PropTypes.any.isRequired,\n     history: PropTypes.func.isRequired\n }\n\nexport default Layout"]},"metadata":{},"sourceType":"module"}